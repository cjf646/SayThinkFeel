#:import Factory kivy.factory.Factory
SignInSignUp:

<SignInSignUp>:
    canvas.before:
        Color:
            rgba: (0,0,0,1)
        Rectangle:
            pos: self.pos
            size: self.size
    GridLayout:
        cols:1

        size:root.width - 4, root.height - 5
        pos:2, 2
        GridLayout:
            cols:1
            Image:
                source:'youfirst.png'
        BoxLayout:
            orientation: 'vertical'



            Label:
            Label:
            Label:



            Button:
                id:signin
                text:"Sign In"
                on_press:
                    root.manager.current = "SignIn"
            Button:
                id:signup
                text:"Sign Up"
                on_release:
                    root.manager.current = "SignUp"


<SignUp>
    MDScreen :
        md_bg_color : [35/255,59/255,54/255,1]
        MDCard :
            orientation : 'vertical'
            size_hint : None,None
            size : 300,500
            pos_hint : {"center_x":.5,"center_y":.5}
            elevation : 15
            md_bg_color : [35/255,49/255,48/255,1]
            padding : 20
            spacing : 30
            MDLabel :
                text : "SIGN-UP"
                font_style : "Button"
                font_size : 40
                halign : "center"
                size_hint_y : None
                height : self.texture_size[1]
                padding_y : 30
            MDTextFieldRound :
                id: email
                hint_text : "Email"
                size_hint_x : None
                icon_right : "phone"
                width : 250
                font_size : 20
                pos_hint : {"center_x":.5}
                normal_color : [35/255,49/255,48/255,1]
                color_active : [1,1,1,1]
            MDTextFieldRound :
                id:username
                hint_text : "username"
                size_hint_x : None
                icon_right : "account"
                width : 250
                font_size : 20
                pos_hint : {"center_x":.5}
                normal_color : [35/255,49/255,48/255,1]
                color_active : [1,1,1,1]

            MDTextFieldRound :
                id: password
                hint_text : "password"
                password : True
                size_hint_x : None
                icon_right : "eye-off"
                width : 250
                font_size : 20
                pos_hint : {"center_x":.5}
                normal_color : [35/255,49/255,48/255,1]
                color_active : [1,1,1,1]
            MDTextFieldRound :
                hint_text : "confirm-password"
                size_hint_x : None
                password : True
                icon_right : "eye-off"
                width : 250
                font_size : 20
                pos_hint : {"center_x":.5}
                normal_color : [35/255,49/255,48/255,1]
                color_active : [1,1,1,1]


            MDGridLayout:
                cols:2
                spacing: dp(75)
                MDRoundFlatButton:
                    text : "SIGN-UP"
                    font_size : 15
                    pos_hint : {"center_x":.5}
                    theme_text_color : "Custom"
                    text_color : [0,0,0,1]
                    on_press:
                        root.send_data(email.text, username.text, password.text)
                        root.manager.current = "SelectGames"
                MDRoundFlatButton :
                    text : "BACK"
                    font_size : 15
                    pos_hint : {"center_x":.5}
                    theme_text_color : "Custom"
                    text_color : [0,0,0,1]
                    on_press:
                        root.manager.current = "SignInSignUp"
<Welcome>
    MDFloatLayout:
        md_bg_color: 1,1,1,1
        Carousel:
            id:carousel

            on_current_slide: root.current_slide(self.index)
            MDFloatLayout:

                Image:
                    source: "welcome.png"
                    pos_hint: {"center_x": .5, "center_y": .7}
                    size_hint: 1, .6
                    canvas.before:
                        Color:
                            rgb: rgba(247, 247, 247, 255)
                        Rectangle:
                            size: self.size
                            pos: self.pos

                MDLabel:

                    text: "Welcome to the positivity app that helps you build your personal development!"
                    size_hint_x: .5
                    pos_hint: {"center_x": .34, "center_y": .32}
                    color: 1,0,1,1


            MDFloatLayout:
                Image:
                    source: "people.png"
                    pos_hint: {"center_x": .5, "center_y": .7}
                    size_hint: 1, .6
                    canvas.before:
                        Color:
                            rgb: rgba(247, 247, 247, 255)
                        Rectangle:
                            size: self.size
                            pos: self.pos
                MDLabel:

                    text: "We are all here to help you achieve your dreams goals and aspirations!"
                    size_hint_x: .5
                    pos_hint: {"center_x": .34, "center_y": .32}
                    color: 1,0,1,1

            MDFloatLayout:
                Image:
                    source: "ourselves.png"
                    pos_hint: {"center_x": .5, "center_y": .7}
                    size_hint: 1, .6
                    canvas.before:
                        Color:
                            rgb: rgba(247, 247, 247, 255)
                        Rectangle:
                            size: self.size
                            pos: self.pos
                MDLabel:

                    text: "In order to do this we must first start with ourselves"
                    size_hint_x: .5
                    pos_hint: {"center_x": .34, "center_y": .32}
                    color: 1,0,1,1

            MDFloatLayout:
                Image:
                    source: "ourselves.png"
                    pos_hint: {"center_x": .5, "center_y": .7}
                    size_hint: 1, .6
                    canvas.before:
                        Color:
                            rgb: rgba(247, 247, 247, 255)
                        Rectangle:
                            size: self.size
                            pos: self.pos
                MDLabel:

                    text: "Are you with me?"
                    size_hint_x: .5
                    pos_hint: {"center_x": .34, "center_y": .32}
                    color: rgba(135, 143, 158, 255)

    MDIconButton:
        id: btn
        icon: "arrow-right"
        md_bg_color: 0,0,0,1
        theme_text_color: "Custom"
        text_color: 1,1,1,1
        pos_hint: {"center_x": .85, "center_y": .08}
        on_release:
            root.next()


    MDIconButton:
        id: slide0
        icon: "circle"

        theme_text_color: "Custom"
        text_color: rgba(111, 206, 203, 255)

        pos_hint: {"center_x": .1, "center_y": .075}
        user_font_size: "8sp"

    MDIconButton:
        id: slide1
        icon: "circle"

        theme_text_color: "Custom"
        text_color: rgba(221, 221, 221, 255)

        pos_hint: {"center_x": .14, "center_y": .075}
        user_font_size: "8sp"
    MDIconButton:
        id: slide2
        icon: "circle"

        theme_text_color: "Custom"
        text_color: rgba(221, 221, 221, 255)

        pos_hint: {"center_x": .18, "center_y": .075}
        user_font_size: "8sp"
    MDIconButton:
        id: slide3
        icon: "circle"

        theme_text_color: "Custom"
        text_color: rgba(221, 221, 221, 255)

        pos_hint: {"center_x": .22, "center_y": .075}
        user_font_size: "8sp"


<SignIn>
    MDScreen:
        md_bg_color: [35/255, 59/255, 54/255,1]
        MDCard:
            size_hint: None, None
            size: 250, 450
            pos_hint: {"center_x": .5, "center_y": .5}
            elevation: 15
            md_bg_color: [35/255, 49/255, 48/255,1]
            padding: 20
            spacing: 30
            orientation: 'vertical'



            MDLabel:
                id:login

                text: 'LOGIN'
                image: "youfirst.png"
                font_style: 'Button'
                font_size: 45
                halign: "center"
                size_hint_y: None
                height: self.texture_size[1]
                padding_y: 15





            MDTextFieldRound:
                id:email
                hint_text: "email"
                icon_right: "account"
                size_hint_x: None
                width: 220
                font_size: 20
                pos_hint: {"center_x": .5}
            MDTextFieldRound:
                id:username
                hint_text: "username"
                icon_right: "account"
                size_hint_x: None
                width: 220
                font_size: 20
                pos_hint: {"center_x": .5}
            MDTextFieldRound:
                id:password
                hint_text: "password"
                icon_right:"eye-off"
                size_hint_x: None
                width: 220
                font_size: 20
                pos_hint: {"center_x": .5}
                color_active: [1,1,1,1]
                password: True
            MDRoundFlatButton:
                text: 'LOG-IN'
                pos_hint: {"center_x": .5}
                font_size: 15
                on_press: root.sign_in(email.text, username.text, password.text)

            MDRoundFlatButton:
                text: 'SIGN-UP'
                pos_hint: {"center_x": .5}
                font_size: 15
                on_press: root.manager.current = "SignUp"

            Widget:
                size_hint_y: None
                height: 30

<SelectGames>
    MDScreen:
        md_bg_color: 56/255, 40/255, 81/255,1

        MDBoxLayout:
            orientation: 'vertical'
            MDToolbar:
                id: title
                title: 'Mental Health Games'
                text:
                right_action_items : [["dots-vertical", lambda x: app.menu.open()]]
                md_bg_color: 38/255, 26/255, 57/255,1

            MDGridLayout:
                size_hint_y: .75

                cols:2
                padding: dp(15)
                spacing: dp(10)
                ElementCard:
                    image: "positive.png"
                    text: "Practice Positivity"
                    on_press:
                        root.manager.current = "PositivityGame"

                ElementCard:
                    image: "feelings.png"
                    text: "Track your feelings"
                    on_press:
                        root.manager.current = "feelings"
                ElementCard:
                    image: "support.png"
                    text: "Additional Support"
                    on_press:
                        root.manager.current = "Support"

                ElementCard:
                    image: "brain.jpg"
                    text: "Challenges"
                    on_press:
                        root.manager.current = "feelings"


                ElementCard:
                    image: "brain.jpg"
                    text: "Positive Affirmations List"
                    on_press:
                        root.manager.current = "feelings"
                ElementCard:
                    image: "brain.jpg"
                    text: "Check Progress"
                    on_press:
                        root.manager.current = "feelings"



<SecondWindow>:
    canvas.before:
        Color:
            rgba: (0,0,0,1)
        Rectangle:
            pos: self.pos
            size: self.size
    GridLayout:

        cols: 1

        Label:
            text: "Select what you would like to play"


        Button:
            text: "go to sentiment game"
            on_press:
                root.manager.current = "PositivityGame"

        Button:
            text: "Recognize How You Feel"
            on_press:
                root.manager.current = "emotionalIntelligence"
        Label:
        Label:

    GridLayout:
        cols:3
        height: root.height * 0.5
        Label:
            text:
        Label:
        Label:
        Button:
            size_hint: 1, 0.05
            text:"Home"
            height: 50
            size_hint_y: None
            on_press:
                root.manager.current = "SignInSignUp"
        Button:
            text:"Stats"

            height: 50
            size_hint_y: None
        Button:
            text:"Account"

            height: 50
            size_hint_y: None

<PositivityGame>
    id: pos
    canvas.before:
        Color:
            rgba: (0,0,0,1)
        Rectangle:
            pos: self.pos
            size: self.size

    timer:timer
    BoxLayout:
        orientation: 'vertical'

        MDToolbar:
            title: 'Positivity Tracker'
            right_action_items : [["dots-vertical", lambda x: app.menu.open()]]
        GridLayout:
            cols:1
            Label:
                id:timer
                text:""
            Label:
                id:input
                text:""

            Label:
                id:input2
                text:""
            Label:
                id:scorechange
                text:""
            Label:
                id:totalscore
                text:""
            Label:
                id: timer
                text: "4"
                font_size: 30
                halign: 'center'
                valign: 'middle'


        MDGridLayout:
            cols:3
            Label:
            MDRoundFlatButton:
                id: spinner_id
                text: "Start"
                font_size: 40
                size_hint: None, None
                on_press: root.trigger()


            Label:

        MDGridLayout:
            cols:3
            height: root.height * .5
            Label:
                text:
            Label:
            Label:

            MDIconButton:
                name:"HomeScreen"
                icon: 'home'
                on_release: root.manager.current = "SelectGames"
            MDIconButton:
                name:"TrendingScreen"
                icon: 'trending-up'
                on_release: root.manager.current = "statPage"
            MDIconButton:
                name:"AddNewScreen"
                icon: 'plus'




<VerifyText>
    MDScreen:
        md_bg_color: [35/255, 59/255, 54/255,1]
        MDCard:
            size_hint: None, None
            size: 300,500
            pos_hint: {"center_x": .5, "center_y": .5}
            elevation: 15
            md_bg_color: [35/255, 49/255, 48/255,1]
            padding: 20
            spacing: 30
            orientation: 'vertical'



            MDLabel:
                id:txtlbl

                text: 'Is this what you said?'
                font_size:25


            MDLabel:
                id:spokentext

                text:
                pos_hint: {"center_x": .5}

            MDLabel:
                id:sentiment
                text:
            MDLabel:
                id:total
                text:
            MDLabel:

            MDGridLayout:
                cols:2
                spacing: dp(75)
                MDRoundFlatButton:
                    id:yesbutton
                    text : "YES"
                    font_size : 15
                    pos_hint : {"center_x":.5}
                    theme_text_color : "Custom"
                    text_color : [0,0,0,1]
                    on_press:

                        root.storeResult(spokentext.text)
                        root.manager.current = "PositivityGame"


                MDRoundFlatButton :
                    id:nobutton
                    text : "NO"
                    font_size : 15
                    pos_hint : {"center_x":.5}
                    theme_text_color : "Custom"
                    text_color : [0,0,0,1]
                    on_press:
                        root.onNo()
                        root.manager.current = "PositivityGame"








<MyPopup2@Popup>

    canvas.before:
        Color:
            rgba: (0,0,0,1)
        Rectangle:
            pos: self.pos
            size: self.size


    BoxLayout:
        orientation: 'vertical'

        MDToolbar:
            title: 'Results'

        GridLayout:
            cols:1
            Label:
                id:vlbl
                text:"Is this what you said?"
            Label:
                id:textlbl
                text:

            Label:
                id:input2
                text:"sentiment: "
            Label:
                id:scorechange
                text:"+/- 1 "
            Label:
                id:totalscore
                text:"Today's Score: "
            Button:
                id: timer
                text: "Go back"
                font_size: 30
                halign: 'center'
                on_press: root.manager.current = "PositivityGame"





<MyMDCard@MDCard>

    MDCard:

        size_hint: None, None
        size: 300, 400
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 25
        spacing: 25
        halign: 'center'
        orientation: 'vertical'

        MDLabel:
            id: welcome_label
            text: "WELCOME"
            font_size: 40
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
            padding_y: 15





<feelings>
    canvas.before:
        Color:
            rgba: (0,0,0,1)
        Rectangle:
            pos: self.pos
            size: self.size
    GridLayout:
        cols: 1

        Spinner:
            id: spin_id
            text: "Press this text to choose how you are feeling right now"


            values: ["Happy","Content", "Sad", "Surprised", "Excited", "Angry", "Tired"]
            on_text: root.emotionsSaved(spin_id.text)
            on_text:
                Factory.MyPopup().open()
        Label:
        Label:
        Button:
            text: "Back"
            width: 50
            height: 50
            size_hint_y: None
            size_hint_x: None
            on_press: root.manager.current = "SelectGames"

<MyPopup@Popup>
    auto_dismiss: False
    size_hint: 0.6, 0.2
    pos_hint: {"x": 0.2, "top": 0.9}
    title: "Nice!!!!!!"
    BoxLayout:


        Button:
            text: "Close MEEEEE"
            font_size: 24
            on_release: root.dismiss()


<statPage>

	BoxLayout:
		id: box
		size_hint_y: .8
		pos_hint: {"top":1}


	BoxLayout:
		size_hint_y: .2

		Button:
		    id:bttn
		    text:"Go Back"
		    on_release: root.manager.current = "PositivityGame"
		TextInput:
			id: namer
			multiline: False


<Support>


    adaptive_height: True


    TwoLineIconListItem:
        text: "(306)-123-4567"
        secondary_text: "Mobile"

        IconLeftWidget:
            icon:"phone"

    ScrollView:
        MDGridLayout:
            id: box
            cols: 1
            adaptive_height: True


<ElementCard@MDCard>
    md_bg_color: 69/255, 55/255, 86/255,1
    size_hint_y: None
    padding: dp(10)
    radius: dp(15)
    image: ''
    text: ""
    height: dp(150)
    orientation: 'vertical'
    Image:
        source: root.image
    MDLabel:
        halign: "center"
        text:root.text
