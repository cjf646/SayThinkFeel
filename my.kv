#:import Factory kivy.factory.Factory



SignInSignUp:

<SignInSignUp>:
    canvas.before:
        Color:
            rgba: (0,0,0,1)
        Rectangle:
            pos: self.pos
            size: self.size
    GridLayout:
        cols:1

        size:root.width - 4, root.height - 5
        pos:2, 2
        GridLayout:
            cols:1
            Image:
                source:'youfirst.png'
        GridLayout:
            cols:2
            Label:

            Label:
            Label:
            Label:
            Button:
                id:signin
                text:"Sign In"
                on_press:
                    root.manager.current = "SignIn"
            Button:
                id:signup
                text:"Sign Up"
                on_release:
                    root.add_widget(Factory.MyMDCard())



<SignIn>
    MDScreen:
        md_bg_color: [35/255, 59/255, 54/255,1]
        MDCard:
            size_hint: None, None
            size: 250, 450
            pos_hint: {"center_x": .5, "center_y": .5}
            elevation: 15
            md_bg_color: [35/255, 49/255, 48/255,1]
            padding: 20
            spacing: 30
            orientation: 'vertical'



            MDLabel:
                id:login

                text: 'LOGIN'
                image: "youfirst.png"
                font_style: 'Button'
                font_size: 45
                halign: "center"
                size_hint_y: None
                height: self.texture_size[1]
                padding_y: 15





            MDTextFieldRound:
                id:username
                hint_text: "username"
                icon_right: "account"
                size_hint_x: None
                width: 220
                font_size: 20
                pos_hint: {"center_x": .5}
            MDTextFieldRound:
                id:password
                hint_text: "password"
                icon_right:"eye-off"
                size_hint_x: None
                width: 220
                font_size: 20
                pos_hint: {"center_x": .5}
                color_active: [1,1,1,1]
                password: True
            MDRoundFlatButton:
                text: 'LOG-IN'
                pos_hint: {"center_x": .5}
                font_size: 15
                on_press: root.sign_in(username.text, password.text)

            MDRoundFlatButton:
                text: 'SIGN-UP'
                pos_hint: {"center_x": .5}
                font_size: 15
                on_press: root.manager.current = "SignUp"

            Widget:
                size_hint_y: None
                height: 30


<SignUp>
    MDScreen :
        md_bg_color : [35/255,59/255,54/255,1]
        MDCard :
            orientation : 'vertical'
            size_hint : None,None
            size : 300,500
            pos_hint : {"center_x":.5,"center_y":.5}
            elevation : 15
            md_bg_color : [35/255,49/255,48/255,1]
            padding : 20
            spacing : 30
            MDLabel :
                text : "SIGN-UP"
                font_style : "Button"
                font_size : 40
                halign : "center"
                size_hint_y : None
                height : self.texture_size[1]
                padding_y : 30
            MDTextFieldRound :
                id:username
                hint_text : "username"
                size_hint_x : None
                icon_right : "account"
                width : 250
                font_size : 20
                pos_hint : {"center_x":.5}
                normal_color : [35/255,49/255,48/255,1]
                color_active : [1,1,1,1]

            MDTextFieldRound :
                id: password
                hint_text : "password"
                password : True
                size_hint_x : None
                icon_right : "eye-off"
                width : 250
                font_size : 20
                pos_hint : {"center_x":.5}
                normal_color : [35/255,49/255,48/255,1]
                color_active : [1,1,1,1]
            MDTextFieldRound :
                hint_text : "confirm-password"
                size_hint_x : None
                password : True
                icon_right : "eye-off"
                width : 250
                font_size : 20
                pos_hint : {"center_x":.5}
                normal_color : [35/255,49/255,48/255,1]
                color_active : [1,1,1,1]
            MDTextFieldRound :
                id: number
                hint_text : "mobile number"
                size_hint_x : None
                icon_right : "phone"
                width : 250
                font_size : 20
                pos_hint : {"center_x":.5}
                normal_color : [35/255,49/255,48/255,1]
                color_active : [1,1,1,1]

            MDGridLayout:
                cols:2
                spacing: dp(75)
                MDRoundFlatButton:
                    text : "SIGN-UP"
                    font_size : 15
                    pos_hint : {"center_x":.5}
                    theme_text_color : "Custom"
                    text_color : [0,0,0,1]
                    on_press:
                        root.send_data(username.text, password.text, number.text)
                MDRoundFlatButton :
                    text : "BACK"
                    font_size : 15
                    pos_hint : {"center_x":.5}
                    theme_text_color : "Custom"
                    text_color : [0,0,0,1]
                    on_press:
                        root.manager.current = "SignInSignUp"

<SecondWindow>:
    canvas.before:
        Color:
            rgba: (0,0,0,1)
        Rectangle:
            pos: self.pos
            size: self.size
    GridLayout:

        cols: 1

        Label:
            text: "Select what you would like to play"


        Button:
            text: "go to sentiment game"
            on_press:
                root.manager.current = "PositivityGame"

        Button:
            text: "Recognize How You Feel"
            on_press:
                root.manager.current = "emotionalIntelligence"
        Label:
        Label:

    GridLayout:
        cols:3
        height: root.height * 0.5
        Label:
            text:
        Label:
        Label:
        Button:
            size_hint: 1, 0.05
            text:"Home"
            height: 50
            size_hint_y: None
            on_press:
                root.manager.current = "SignInSignUp"
        Button:
            text:"Stats"

            height: 50
            size_hint_y: None
        Button:
            text:"Account"

            height: 50
            size_hint_y: None

<PositivityGame>
    canvas.before:
        Color:
            rgba: (0,0,0,1)
        Rectangle:
            pos: self.pos
            size: self.size

    timer:timer
    BoxLayout:
        orientation: 'vertical'

        MDToolbar:
            title: 'Positivity Tracker'
            right_action_items : [["dots-vertical", lambda x: app.menu.open()]]
        GridLayout:
            cols:1
            Label:
                id:timer
                text:""
            Label:
                id:input
                text:"input: "

            Label:
                id:input2
                text:"sentiment: "
            Label:
                id:scorechange
                text:"+/- 1 "
            Label:
                id:totalscore
                text:"Today's Score: "
            Label:
                id: timer
                text: str(round(5))
                font_size: 30
                halign: 'center'
                valign: 'middle'


        MDGridLayout:
            cols:3
            Label:
            Button:
                id: spinner_id
                text: "Start"
                on_press:
                    timer.text = "Say Now!!!"
                on_press: root.displayResult()
                on_press:
                    Factory.MyPopup2().open()
            Label:

        MDGridLayout:
            cols:3
            height: root.height * .5
            Label:
                text:
            Label:
            Label:

            MDIconButton:
                name:"HomeScreen"
                icon: 'home'
                on_release: root.manager.current = "SelectGames"
            MDIconButton:
                name:"TrendingScreen"
                icon: 'trending-up'
                on_release: root.manager.current = "statPage"
            MDIconButton:
                name:"AddNewScreen"
                icon: 'plus'


<MyPopup2@Popup>

    canvas.before:
        Color:
            rgba: (0,0,0,1)
        Rectangle:
            pos: self.pos
            size: self.size


    BoxLayout:
        orientation: 'vertical'

        MDToolbar:
            title: 'Results'

        GridLayout:
            cols:1
            Label:
                id:timer
                text:""
            Label:
                id:input
                text:"input: "

            Label:
                id:input2
                text:"sentiment: "
            Label:
                id:scorechange
                text:"+/- 1 "
            Label:
                id:totalscore
                text:"Today's Score: "
            Button:
                id: timer
                text: "Go back"
                font_size: 30
                halign: 'center'

                on_press: root.dismiss()





<MyMDCard@MDCard>

    MDCard:

        size_hint: None, None
        size: 300, 400
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 25
        spacing: 25
        halign: 'center'
        orientation: 'vertical'

        MDLabel:
            id: welcome_label
            text: "WELCOME"
            font_size: 40
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
            padding_y: 15





<feelings>
    canvas.before:
        Color:
            rgba: (0,0,0,1)
        Rectangle:
            pos: self.pos
            size: self.size
    GridLayout:
        cols: 1

        Spinner:
            id: spin_id
            text: "Press this text to choose how you are feeling right now"


            values: ["Happy","Content", "Sad", "Surprised", "Excited", "Angry", "Tired"]
            on_text: root.emotionsSaved(spin_id.text)
            on_text:
                Factory.MyPopup().open()
        Label:
        Label:
        Button:
            text: "Back"
            width: 50
            height: 50
            size_hint_y: None
            size_hint_x: None
            on_press: root.manager.current = "SelectGames"

<MyPopup@Popup>
    auto_dismiss: False
    size_hint: 0.6, 0.2
    pos_hint: {"x": 0.2, "top": 0.9}
    title: "Nice!!!!!!"
    BoxLayout:


        Button:
            text: "Close MEEEEE"
            font_size: 24
            on_release: root.dismiss()


<statPage>

	BoxLayout:
		id: box
		size_hint_y: .8
		pos_hint: {"top":1}


	BoxLayout:
		size_hint_y: .2

		Button:
		    id:bttn
		    text:"Go Back"
		    on_release: root.manager.current = "PositivityGame"
		TextInput:
			id: namer
			multiline: False

<SelectGames>
    MDScreen:
        md_bg_color: 56/255, 40/255, 81/255,1

        MDBoxLayout:
            orientation: 'vertical'
            MDToolbar:
                title: 'Mental Health Games'
                right_action_items : [["dots-vertical", lambda x: app.menu.open()]]
                md_bg_color: 38/255, 26/255, 57/255,1

            MDGridLayout:
                size_hint_y: .75

                cols:2
                padding: dp(15)
                spacing: dp(10)
                ElementCard:
                    image: "positive.png"
                    text: "Practice Positivity"
                    on_press:
                        root.manager.current = "PositivityGame"

                ElementCard:
                    image: "feelings.png"
                    text: "Track your feelings"
                    on_press:
                        root.manager.current = "feelings"
                ElementCard:
                    image: "support.png"
                    text: "Additional Support"
                    on_press:
                        root.manager.current = "PositivityGame"

                ElementCard:
                    image: "brain.jpg"
                    text: "Challenges"
                    on_press:
                        root.manager.current = "feelings"

<ElementCard@MDCard>
    md_bg_color: 69/255, 55/255, 86/255,1
    size_hint_y: None
    padding: dp(10)
    radius: dp(15)
    image: ''
    text: ""
    height: dp(150)
    orientation: 'vertical'
    Image:
        source: root.image
    MDLabel:
        halign: "center"
        text:root.text
